!function($){const image=`<img decoding="async" src="${window.location.origin}//wp-content/plugins/bx-like/assets/images//thumb.png" />`;$(".like-dislike-buttons").on("click",".like-button, .dislike-button",(function(){const button=$(this),post_id=button.data("post_id"),action_type=button.hasClass("like-button")?"like":"dislike",top_liked_posts=$("#topLikedPosts");$.ajax({url:bx_like_ajax.ajax_url,type:"POST",data:{action:"update_like_dislike",post_id:post_id,action_type:action_type},success:function(response){if(top_liked_posts.html(response.data.top_liked_posts),response.success){const buttons=button.closest(".like-dislike-buttons"),like_button=buttons.find(".like-button"),dislike_button=buttons.find(".dislike-button");like_button.html("Like"),dislike_button.html("Dislike"),"like"===action_type?(like_button.attr("disabled",!0).html("Liked"+image),dislike_button.removeAttr("disabled").html("Dislike"+image),document.cookie=`bx_like_${post_id}=${JSON.stringify({like:!0,dislike:!1})}; path=/`):(dislike_button.attr("disabled",!0).html("Dislike"),like_button.removeAttr("disabled").html("Like"),document.cookie=`bx_like_${post_id}=${JSON.stringify({like:!1,dislike:!0})}; path=/`)}else alert(response.data.message||"Error updating like/dislike.")},error:function(){alert("Error sending request.")}})})),$(".like-dislike-buttons").each((function(){const post_id=$(this).find(".like-button").data("post_id"),cookie=document.cookie.split("; ").find((row=>row.startsWith(`bx_like_${post_id}`)));if(cookie){const status=JSON.parse(cookie.split("=")[1]),like_button=$(this).find(".like-button"),dislike_button=$(this).find(".dislike-button");status.like?(like_button.html("Liked"+image),dislike_button.removeAttr("disabled"),dislike_button.html("Dislike"+image)):status.dislike&&(dislike_button.attr("disabled","disabled"),dislike_button.html("Dislike"),like_button.removeAttr("disabled").html("Like"))}}))}(jQuery);